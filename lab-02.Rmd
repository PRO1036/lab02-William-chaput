---
title: "Lab 02 - Plastic waste"
author: "William Chaput"
date: "15-09-2025"
output: github_document
---

## Chargement des packages et des données

```{r load-packages, message=FALSE}
library(tidyverse) 
```

```{r load-data, message=FALSE}
plastic_waste <- read_csv("data/plastic-waste.csv")
```

Commençons par filtrer les données pour retirer le point représenté par Trinité et Tobago (TTO) qui est un outlier.

```{r filter-data, message=FALSE}
plastic_waste %>%
  filter(plastic_waste_per_cap < 3.5)
```


## Exercices

### Exercise 1

```{r plastic-waste-continent}
ggplot(data=plastic_waste%>%
  filter(plastic_waste_per_cap < 3.5), aes(x=plastic_waste_per_cap )) +
  geom_histogram(binwidth = 0.2, binheight=5)+
  facet_wrap(~continent, ncol(3))
```


L'Afrique, l'Océanie et l'Asie produisent très peu de déchet en comparaison aux autres continents.

### Exercise 2

```{r plastic-waste-density}
ggplot(data=plastic_waste%>%
  filter(plastic_waste_per_cap < 3.5), aes(x=plastic_waste_per_cap, color=continent, fill=continent )) +
  geom_density(alpha=0.5)
```

Les réglages aes sont associés aux variables. La focntion couleur, colorie les variable et celle de fill, rempli en dessous des variables
Les reglages geom servent à relgler les paramètres des graohiques, dans ce cas-ci, c'est la transparemnce de la couleur que l'on vient regler.

### Exercise 3

Boxplot:

```{r plastic-waste-boxplot}
ggplot(data=plastic_waste%>%
  filter(plastic_waste_per_cap < 3.5), aes(y=plastic_waste_per_cap,x=continent)) +
  geom_boxplot()
```

Violin plot:

```{r plastic-waste-violin}
ggplot(data=plastic_waste%>%
  filter(plastic_waste_per_cap < 3.5), aes(y=plastic_waste_per_cap,x=continent)) +
  geom_violin()
```

Cela permet de voir de manière complète et précise la distribution des données.

### Exercise 4


```{r plastic-waste-mismanaged}
ggplot(data=plastic_waste%>%
  filter(plastic_waste_per_cap < 3.5), aes(x=plastic_waste_per_cap, y=mismanaged_plastic_waste_per_cap, color=continent)) +
  geom_point()
```

Il est possible de distinguer un échelle entre ceux qui gère bien leur déchet et ceux qui les gère mal. Par exemple, l'Afrique a autant de déchet que de déchet mal géré, ainsi, la presque totalité des déchets de l'afrique ne sont pas bien géré. L'Europe, c'est l'inverse, et on peut voir entre les deux, ce qui donne un échelle.

### Exercise 5


```{r plastic-waste-population-total}
ggplot(data=plastic_waste%>%
  filter(plastic_waste_per_cap < 3.5), aes(x=plastic_waste_per_cap, y=total_pop, color=continent)) +
  geom_point()
```

```{r plastic-waste-population-coastal}
ggplot(data=plastic_waste%>%
  filter(plastic_waste_per_cap < 3.5), aes(x=plastic_waste_per_cap, y=coastal_pop, color=continent)) +
  geom_point()
```

Dans les zones cotières, il y a  moins de déchet produit pour des populations plus denses. 

## Conclusion

Recréez la visualisation:

```{r recreate-viz}


ggplot(data=plastic_waste %>%
  mutate(coastal_pop_prop = coastal_pop / total_pop)%>%
  filter(plastic_waste_per_cap < 3), aes(x=coastal_pop_prop, y=plastic_waste_per_cap, color=continent)) +
  geom_point()+
  geom_smooth(method = "loess",
              se = TRUE,      
              color = "black",
              fill = "grey")+
  labs(title = "Quantité de déchet plastique Vs la proportion de la population côtière" ,subtitle = "Selon le continent", x= "Proportion de la population côtière", y= "Nombre de déchet plastique par habitant" )
```

Il est possible d’observer une légère tendance indiquant que lorsque la proportion de population côtière augmente, la quantité de déchets produits par habitant augmente également. Cependant, on constate facilement quels continents contribuent le plus à la pollution.